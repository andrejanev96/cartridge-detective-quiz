import{r as M,a as Yt,g as Ht,R as z}from"./vendor-57209f9c.js";import{m as A,A as _e}from"./animations-d886bd4a.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(n){if(n.ep)return;n.ep=!0;const a=t(n);fetch(n.href,a)}})();var _t={exports:{}},Fe={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kt=M,Gt=Symbol.for("react.element"),Xt=Symbol.for("react.fragment"),Zt=Object.prototype.hasOwnProperty,Jt=Kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,es={key:!0,ref:!0,__self:!0,__source:!0};function Et(e,s,t){var r,n={},a=null,u=null;t!==void 0&&(a=""+t),s.key!==void 0&&(a=""+s.key),s.ref!==void 0&&(u=s.ref);for(r in s)Zt.call(s,r)&&!es.hasOwnProperty(r)&&(n[r]=s[r]);if(e&&e.defaultProps)for(r in s=e.defaultProps,s)n[r]===void 0&&(n[r]=s[r]);return{$$typeof:Gt,type:e,key:a,ref:u,props:n,_owner:Jt.current}}Fe.Fragment=Xt;Fe.jsx=Et;Fe.jsxs=Et;_t.exports=Fe;var l=_t.exports,Qe={},nt=Yt;Qe.createRoot=nt.createRoot,Qe.hydrateRoot=nt.hydrateRoot;const Ne=({size:e="large"})=>e==="small"?l.jsx("div",{className:"logo-small",children:l.jsx("div",{className:"logo-shield-small",children:l.jsx("span",{className:"logo-text-small",children:"AMMO"})})}):l.jsx("div",{className:"logo",children:l.jsx("div",{className:"logo-shield",children:l.jsx("span",{className:"logo-text",children:"AMMO"})})});function At(e){var s,t,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(s=0;s<n;s++)e[s]&&(t=At(e[s]))&&(r&&(r+=" "),r+=t)}else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Ae(){for(var e,s,t=0,r="",n=arguments.length;t<n;t++)(e=arguments[t])&&(s=At(e))&&(r&&(r+=" "),r+=s);return r}const fe=({variant:e="primary",children:s,className:t,...r})=>l.jsx("button",{className:Ae("btn",{"btn-primary":e==="primary","btn-secondary":e==="secondary","btn-social":e==="social"},t),...r,children:s}),at=e=>{let s;const t=new Set,r=(p,x)=>{const g=typeof p=="function"?p(s):p;if(!Object.is(g,s)){const F=s;s=x??(typeof g!="object"||g===null)?g:Object.assign({},s,g),t.forEach(R=>R(s,F))}},n=()=>s,b={setState:r,getState:n,getInitialState:()=>w,subscribe:p=>(t.add(p),()=>t.delete(p)),destroy:()=>{t.clear()}},w=s=e(r,n,b);return b},ts=e=>e?at(e):at;var jt={exports:{}},kt={},Vt={exports:{}},Ft={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ye=M;function ss(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var rs=typeof Object.is=="function"?Object.is:ss,is=ye.useState,ns=ye.useEffect,as=ye.useLayoutEffect,os=ye.useDebugValue;function ls(e,s){var t=s(),r=is({inst:{value:t,getSnapshot:s}}),n=r[0].inst,a=r[1];return as(function(){n.value=t,n.getSnapshot=s,ze(n)&&a({inst:n})},[e,t,s]),ns(function(){return ze(n)&&a({inst:n}),e(function(){ze(n)&&a({inst:n})})},[e]),os(t),t}function ze(e){var s=e.getSnapshot;e=e.value;try{var t=s();return!rs(e,t)}catch{return!0}}function cs(e,s){return s()}var us=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?cs:ls;Ft.useSyncExternalStore=ye.useSyncExternalStore!==void 0?ye.useSyncExternalStore:us;Vt.exports=Ft;var ds=Vt.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var De=M,fs=ds;function ys(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var hs=typeof Object.is=="function"?Object.is:ys,ms=fs.useSyncExternalStore,gs=De.useRef,ps=De.useEffect,xs=De.useMemo,vs=De.useDebugValue;kt.useSyncExternalStoreWithSelector=function(e,s,t,r,n){var a=gs(null);if(a.current===null){var u={hasValue:!1,value:null};a.current=u}else u=a.current;a=xs(function(){function b(F){if(!w){if(w=!0,p=F,F=r(F),n!==void 0&&u.hasValue){var R=u.value;if(n(R,F))return x=R}return x=F}if(R=x,hs(p,F))return R;var N=r(F);return n!==void 0&&n(R,N)?(p=F,R):(p=F,x=N)}var w=!1,p,x,g=t===void 0?null:t;return[function(){return b(s())},g===null?void 0:function(){return b(g())}]},[s,t,r,n]);var d=ms(e,a[0],a[1]);return ps(function(){u.hasValue=!0,u.value=d},[d]),vs(d),d};jt.exports=kt;var bs=jt.exports;const ws=Ht(bs),{useDebugValue:Ss}=z,{useSyncExternalStoreWithSelector:_s}=ws;const Es=e=>e;function As(e,s=Es,t){const r=_s(e.subscribe,e.getState,e.getServerState||e.getInitialState,s,t);return Ss(r),r}const ot=e=>{const s=typeof e=="function"?ts(e):e,t=(r,n)=>As(s,r,n);return Object.assign(t,s),t},js=e=>e?ot(e):ot,ks=async(e,s,t)=>{const r={}.VITE_MAILCHIMP_API_KEY,n={}.VITE_MAILCHIMP_SERVER_PREFIX,a={}.VITE_MAILCHIMP_LIST_ID;if(!r||!n||!a)return console.warn("MailChimp environment variables not configured"),console.log("Would subscribe:",{email:e,subscribeToBulletin:s,quizData:t}),!0;try{const u=`https://${n}.api.mailchimp.com/3.0/lists/${a}/members`,d={email_address:e,status:s?"subscribed":"unsubscribed",tags:["cartridge-quiz"],merge_fields:{QUIZ_SCORE:t==null?void 0:t.score,QUIZ_TIER:t==null?void 0:t.tier,QUIZ_DATE:new Date().toISOString().split("T")[0]}},b=await fetch(u,{method:"POST",headers:{Authorization:`Basic ${btoa(`anystring:${r}`)}`,"Content-Type":"application/json"},body:JSON.stringify(d)});if(b.ok)return console.log("Successfully subscribed to MailChimp"),!0;{const w=await b.json();return console.error("MailChimp subscription failed:",w),!1}}catch(u){return console.error("MailChimp API error:",u),!1}},Vs=async(e,s)=>(console.log("Sending quiz results email to:",e,s),new Promise(t=>{setTimeout(()=>{console.log("Quiz results email sent successfully"),t(!0)},1e3)})),Fs=e=>{const s=document.createElement("script");s.async=!0,s.src=`https://www.googletagmanager.com/gtag/js?id=${e}`,document.head.appendChild(s),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config",e)},ue=(e,s)=>{typeof window.gtag<"u"?window.gtag("event",e,s):console.log("Analytics Event:",e,s)},oe={quizStarted:()=>ue("quiz_started",{content_type:"quiz",content_id:"cartridge_detective_challenge"}),questionAnswered:(e,s,t)=>ue("question_answered",{question_index:e,is_correct:s,question_category:t}),quizCompleted:e=>ue("quiz_completed",{score:e.score,total_questions:e.totalQuestions,accuracy:e.accuracy,tier:e.tier,newsletter_signup:e.subscribeToBulletin,conversion:!0}),emailSubmitted:e=>ue("email_submitted",{newsletter_signup:e,lead_generated:!0}),socialShare:(e,s,t)=>ue("social_share",{platform:e,score:s,tier:t}),retakeQuiz:()=>ue("quiz_retake")},lt={}.VITE_GA4_MEASUREMENT_ID;lt&&Fs(lt);const ct=[{name:"Recruit Detective",range:[0,3],icon:"🎯",description:"You're new to cartridge identification. Every expert started here - keep learning!"},{name:"Cartridge Spotter",range:[4,6],icon:"🏅",description:"You can identify some common cartridges. Your detective skills are developing!"},{name:"Ammunition Expert",range:[7,9],icon:"⭐",description:"Impressive knowledge! You can identify most cartridges and understand their history."},{name:"Master Cartridge Detective",range:[10,12],icon:"🎖️",description:"Exceptional expertise! You have deep cartridge knowledge that rivals collectors."},{name:"Arsenal Commander",range:[13,15],icon:"👑",description:"Elite cartridge authority! Your knowledge is comprehensive and you're among the top detectives."}],J=js((e,s)=>({currentQuestion:0,score:0,selectedAnswer:null,userAnswers:[],streak:0,maxStreak:0,quizData:[],isQuizActive:!1,currentSection:"landing",startQuiz:async()=>{oe.quizStarted(),await s().loadQuestions(),e({currentSection:"quiz",isQuizActive:!0,userAnswers:[]})},loadQuestions:async()=>{try{const n=await(await fetch("/cartridge-detective-quiz/cartridge-questions.json")).json();s().generateQuiz(n)}catch(t){console.error("Error loading questions:",t),s().generateQuiz({easy:[],medium:[],hard:[],settings:{questionsPerDifficulty:{easy:5,medium:6,hard:4}}})}},generateQuiz:t=>{const r=t.settings,n=[];["easy","medium","hard"].forEach(a=>{const u=r.questionsPerDifficulty[a],d=[...t[a]];for(let b=0;b<u&&d.length>0;b++){const w=Math.floor(Math.random()*d.length),p=d.splice(w,1)[0];n.push({...p,id:`${a}-${b}`,difficulty:a})}}),e({quizData:n})},selectAnswer:t=>{e({selectedAnswer:t})},nextQuestion:()=>{const t=s(),r=t.quizData[t.currentQuestion];let n=!1,a=t.selectedAnswer;switch(r.type){case"multiple-choice":case"image-multiple-choice":n=t.selectedAnswer===r.correct,a=r.answers[t.selectedAnswer];break;case"true-false":n=t.selectedAnswer===r.correct;break;case"text-input":n=r.acceptableAnswers.some(x=>x.toLowerCase()===String(t.selectedAnswer).toLowerCase());break;case"slider":n=Math.abs(t.selectedAnswer-r.correct)<=r.tolerance,a=`${t.selectedAnswer} ${r.unit}`;break;case"drag-drop":n=Object.keys(r.correctMatches).every(x=>t.selectedAnswer[x]===r.correctMatches[x]);break}const u={question:r,userAnswer:a,isCorrect:n,questionIndex:t.currentQuestion},d=[...t.userAnswers,u],b=n?t.score+1:t.score,w=n?t.streak+1:0,p=Math.max(t.maxStreak,w);e({userAnswers:d,score:b,streak:w,maxStreak:p}),oe.questionAnswered(t.currentQuestion,n,r.category),t.currentQuestion+1<t.quizData.length?(e({currentQuestion:t.currentQuestion+1}),s().resetQuestionState()):e({currentSection:"emailCapture",isQuizActive:!1})},submitEmail:async(t,r)=>{const n=s(),a=s().getTier(n.score),u=Math.round(n.score/n.quizData.length*100);oe.emailSubmitted(r),oe.quizCompleted({score:n.score,totalQuestions:n.quizData.length,accuracy:u,tier:a.name,subscribeToBulletin:r});try{await ks(t,r,{score:n.score,tier:a.name,accuracy:u}),await Vs(t,{score:n.score,totalQuestions:n.quizData.length,tier:a,userAnswers:n.userAnswers,accuracy:u})}catch(d){console.error("Email/subscription error:",d)}e({currentSection:"results"})},showSection:t=>{e({currentSection:t})},retakeQuiz:()=>{oe.retakeQuiz(),e({currentQuestion:0,score:0,selectedAnswer:null,streak:0,maxStreak:0,userAnswers:[],currentSection:"landing",isQuizActive:!1}),s().resetQuestionState()},resetQuestionState:()=>{e({selectedAnswer:null})},getTier:t=>{for(const r of ct)if(t>=r.range[0]&&t<=r.range[1])return r;return ct[0]},getAchievements:()=>{const t=s(),r=[];return t.score===t.quizData.length&&r.push({icon:"🎯",text:"Perfect Detective!"}),t.maxStreak>=5&&r.push({icon:"🔥",text:"Hot Streak!"}),t.score>=Math.ceil(t.quizData.length*.8)&&r.push({icon:"🏆",text:"Expert Level"}),t.maxStreak>=3&&r.push({icon:"💪",text:"Consistent Detective"}),r},trackEvent:(t,r)=>{console.log("Legacy Analytics Event:",t,r)}})),ut=()=>{const{startQuiz:e,quizData:s}=J();return l.jsx(A.section,{className:"section active",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:l.jsxs("div",{className:"container",children:[l.jsx(Ne,{}),l.jsxs("div",{className:"hero-content",children:[l.jsx(A.h1,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.2,duration:.6},children:"The Cartridge Detective Challenge"}),l.jsx(A.p,{className:"subtitle",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.6},children:"Can you identify these obscure military and sporting cartridges? Test your expertise with our challenging cartridge identification quiz."}),l.jsxs(A.div,{className:"quiz-details",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.6},children:[l.jsxs("div",{className:"detail-item",children:[l.jsx("span",{className:"detail-number",children:s.length||15}),l.jsx("span",{className:"detail-label",children:"Cartridges"})]}),l.jsxs("div",{className:"detail-item",children:[l.jsx("span",{className:"detail-number",children:"5-7"}),l.jsx("span",{className:"detail-label",children:"Minutes"})]}),l.jsxs("div",{className:"detail-item",children:[l.jsx("span",{className:"detail-number",children:"5"}),l.jsx("span",{className:"detail-label",children:"Skill Levels"})]})]}),l.jsx(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8,duration:.6},children:l.jsx(fe,{onClick:e,children:"Start Detective Challenge"})}),l.jsx(A.p,{className:"disclaimer",initial:{opacity:0},animate:{opacity:1},transition:{delay:1,duration:.6},children:"Get your personalized Cartridge Knowledge Profile and percentile ranking delivered via email."})]})]})})},Ns=({question:e})=>{const{selectedAnswer:s,selectAnswer:t}=J();return l.jsx("div",{className:"answers-container",children:e.answers.map((r,n)=>l.jsx("div",{className:Ae("answer-option",s===n&&"selected"),onClick:()=>t(n),children:r},n))})},Ds=({question:e})=>{const{selectedAnswer:s,selectAnswer:t}=J();return l.jsxs("div",{className:"answers-container",children:[l.jsx("div",{className:Ae("answer-option",s===!0&&"selected"),onClick:()=>t(!0),children:"True"}),l.jsx("div",{className:Ae("answer-option",s===!1&&"selected"),onClick:()=>t(!1),children:"False"})]})},Cs=({question:e})=>{const{selectAnswer:s}=J(),[t,r]=M.useState("");return M.useEffect(()=>{s(t.trim()!==""?t:null)},[t,s]),l.jsx("div",{className:"text-input-container",children:l.jsx("input",{type:"text",className:"text-input",placeholder:"Enter the cartridge name...",value:t,onChange:n=>r(n.target.value),autoFocus:!0})})},Rs=({question:e})=>{const{selectAnswer:s}=J(),t=Math.round((e.min+e.max)/2),[r,n]=M.useState(t);M.useEffect(()=>{s(r)},[r,s]);const u=(()=>{const d=e.max-e.min;let b;e.unit==="fps"?b=200:e.unit==="grains"?b=20:d>1e3?b=200:d>100?b=25:b=10;const w=[e.min];for(let p=e.min+b;p<e.max;p+=b){const x=Math.round(p/b)*b;x>e.min&&x<e.max&&!w.includes(x)&&w.push(x)}return w.push(e.max),w.sort((p,x)=>p-x)})();return l.jsxs("div",{className:"slider-container",children:[l.jsxs("div",{className:"slider-label",children:["Range: ",e.min," - ",e.max," ",e.unit]}),l.jsx("input",{type:"range",className:"slider",min:e.min,max:e.max,step:e.step||10,value:r,onChange:d=>n(parseInt(d.target.value))}),l.jsxs("div",{className:"slider-value",children:[r," ",e.unit]}),l.jsx("div",{className:"slider-presets",children:u.map(d=>l.jsx("button",{type:"button",className:"slider-preset-btn",onClick:()=>n(d),children:d},d))})]})},Is=({question:e})=>{const s=()=>{switch(e.type){case"multiple-choice":case"image-multiple-choice":return l.jsx(Ns,{question:e});case"true-false":return l.jsx(Ds,{question:e});case"text-input":return l.jsx(Cs,{question:e});case"slider":return l.jsx(Rs,{question:e});default:return l.jsx("div",{children:"Unsupported question type"})}};return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"question-container",children:[l.jsx("h2",{className:"question-title",children:e.question}),e.image&&l.jsx("div",{className:"question-image",children:l.jsx("img",{src:e.image,alt:"Cartridge identification"})})]}),s()]})},Ts=()=>{const{currentQuestion:e,quizData:s,selectedAnswer:t,nextQuestion:r,resetQuestionState:n}=J(),[a,u]=M.useState(!1),[d,b]=M.useState(!1),w=s[e],p=t===null||t==="",x=async()=>{p||(u(!0),b(!0),setTimeout(()=>{r(),b(!1),u(!1)},600))};return M.useEffect(()=>{n()},[e,n]),M.useEffect(()=>{const g=F=>{if(F.key>="1"&&F.key<="4"&&(w==null?void 0:w.type)==="multiple-choice"){const R=parseInt(F.key)-1;R<w.answers.length&&J.getState().selectAnswer(R)}F.key==="Enter"&&!p&&x()};return window.addEventListener("keydown",g),()=>window.removeEventListener("keydown",g)},[w,p,r]),w?l.jsx(A.section,{className:"section active",initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.4},style:{position:"relative",overflow:"hidden"},children:l.jsxs("div",{className:"container",children:[l.jsx("div",{className:"quiz-title-section",children:l.jsx(_e,{mode:"wait",children:w.title&&l.jsx(A.div,{className:"title-bullet",initial:{x:-400,opacity:0},animate:{x:0,opacity:1},exit:{x:400,opacity:0},transition:{duration:.5,ease:"easeOut",delay:a?0:.1},children:l.jsx("h2",{className:"question-title",children:w.title})},`title-${e}`)})}),l.jsxs("div",{className:"quiz-header",children:[l.jsxs("div",{className:"quiz-header-top",children:[l.jsx(Ne,{size:"small"}),l.jsxs("div",{className:"progress-section",children:[l.jsxs("div",{className:"question-counter",children:["Question ",e+1," of ",s.length]}),w.category&&l.jsx("div",{className:"question-category",children:w.category})]})]}),l.jsx("div",{className:"progress-bar-container",children:l.jsx("div",{className:"progress-bar",style:{"--progress":`${(e+1)/s.length*100}%`}})})]}),l.jsx(_e,{children:d&&l.jsxs(l.Fragment,{children:[l.jsx(A.div,{initial:{opacity:0},animate:{opacity:[0,1,0]},transition:{duration:.2,ease:"easeOut"},style:{position:"absolute",top:"50%",left:"-25px",transform:"translateY(-50%)",width:"50px",height:"50px",background:"radial-gradient(circle, #ff6b00 0%, #ff4400 50%, transparent 70%)",borderRadius:"50%",zIndex:999}}),l.jsx(A.div,{initial:{x:-50,y:0,opacity:1},animate:{x:window.innerWidth+50,y:0},exit:{opacity:0},transition:{duration:.6,ease:"easeOut"},style:{position:"absolute",top:"50%",left:0,transform:"translateY(-50%)",zIndex:1e3},children:l.jsxs("div",{style:{width:"52px",height:"16px",background:"linear-gradient(90deg, #bf9400 0%, #99161d 65%, #bf9400 100%)",borderRadius:"2px 10px 10px 2px",boxShadow:"0 0 12px rgba(191, 148, 0, 0.6), inset 0 1px 3px rgba(255,255,255,0.2)",position:"relative"},children:[l.jsx("div",{style:{position:"absolute",right:"-8px",top:"50%",transform:"translateY(-50%)",width:"0",height:"0",borderLeft:"12px solid #bf9400",borderTop:"8px solid transparent",borderBottom:"8px solid transparent",filter:"drop-shadow(0 0 3px rgba(191, 148, 0, 0.4))"}}),l.jsx(A.div,{animate:{opacity:[.7,.3,.7],scaleX:[.8,1,.8]},transition:{duration:.15,repeat:1/0,ease:"easeInOut"},style:{position:"absolute",left:"-20px",top:"50%",transform:"translateY(-50%)",width:"20px",height:"3px",background:"linear-gradient(90deg, transparent 0%, rgba(191, 148, 0, 0.6) 100%)",borderRadius:"2px"}})]})})]})}),l.jsxs("div",{className:"quiz-content",children:[l.jsx(_e,{mode:"wait",children:l.jsx(A.div,{initial:{opacity:0,x:a?100:0,scale:.9},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:-100,scale:.9},transition:{duration:.5,ease:"easeInOut"},children:l.jsx(Is,{question:w})},e)}),l.jsx("div",{className:"quiz-navigation",children:l.jsx(fe,{onClick:x,disabled:p||a,children:a?"Firing...":e===s.length-1?"Complete Challenge":"Next Cartridge"})})]})]})}):l.jsx("div",{children:"Loading..."})};var ve=e=>e.type==="checkbox",le=e=>e instanceof Date,U=e=>e==null;const Nt=e=>typeof e=="object";var C=e=>!U(e)&&!Array.isArray(e)&&Nt(e)&&!le(e),Os=e=>C(e)&&e.target?ve(e.target)?e.target.checked:e.target.value:e,Ls=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Ms=(e,s)=>e.has(Ls(s)),Ps=e=>{const s=e.constructor&&e.constructor.prototype;return C(s)&&s.hasOwnProperty("isPrototypeOf")},Be=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function L(e){let s;const t=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)s=new Date(e);else if(!(Be&&(e instanceof Blob||r))&&(t||C(e)))if(s=t?[]:Object.create(Object.getPrototypeOf(e)),!t&&!Ps(e))s=e;else for(const n in e)e.hasOwnProperty(n)&&(s[n]=L(e[n]));else return e;return s}var Ce=e=>/^\w*$/.test(e),T=e=>e===void 0,$e=e=>Array.isArray(e)?e.filter(Boolean):[],We=e=>$e(e.replace(/["|']|\]/g,"").split(/\.|\[/)),m=(e,s,t)=>{if(!s||!C(e))return t;const r=(Ce(s)?[s]:We(s)).reduce((n,a)=>U(n)?n:n[a],e);return T(r)||r===e?T(e[s])?t:e[s]:r},X=e=>typeof e=="boolean",V=(e,s,t)=>{let r=-1;const n=Ce(s)?[s]:We(s),a=n.length,u=a-1;for(;++r<a;){const d=n[r];let b=t;if(r!==u){const w=e[d];b=C(w)||Array.isArray(w)?w:isNaN(+n[r+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;e[d]=b,e=e[d]}};const dt={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},W={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},te={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},zs=z.createContext(null);zs.displayName="HookFormContext";var Us=(e,s,t,r=!0)=>{const n={defaultValues:s._defaultValues};for(const a in e)Object.defineProperty(n,a,{get:()=>{const u=a;return s._proxyFormState[u]!==W.all&&(s._proxyFormState[u]=!r||W.all),t&&(t[u]=!0),e[u]}});return n};const Qs=typeof window<"u"?z.useLayoutEffect:z.useEffect;var Z=e=>typeof e=="string",qs=(e,s,t,r,n)=>Z(e)?(r&&s.watch.add(e),m(t,e,n)):Array.isArray(e)?e.map(a=>(r&&s.watch.add(a),m(t,a))):(r&&(s.watchAll=!0),t),qe=e=>U(e)||!Nt(e);function ne(e,s,t=new WeakSet){if(qe(e)||qe(s))return e===s;if(le(e)&&le(s))return e.getTime()===s.getTime();const r=Object.keys(e),n=Object.keys(s);if(r.length!==n.length)return!1;if(t.has(e)||t.has(s))return!0;t.add(e),t.add(s);for(const a of r){const u=e[a];if(!n.includes(a))return!1;if(a!=="ref"){const d=s[a];if(le(u)&&le(d)||C(u)&&C(d)||Array.isArray(u)&&Array.isArray(d)?!ne(u,d,t):u!==d)return!1}}return!0}var Bs=(e,s,t,r,n)=>s?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[r]:n||!0}}:{},pe=e=>Array.isArray(e)?e:[e],ft=()=>{let e=[];return{get observers(){return e},next:n=>{for(const a of e)a.next&&a.next(n)},subscribe:n=>(e.push(n),{unsubscribe:()=>{e=e.filter(a=>a!==n)}}),unsubscribe:()=>{e=[]}}},q=e=>C(e)&&!Object.keys(e).length,Ye=e=>e.type==="file",Y=e=>typeof e=="function",je=e=>{if(!Be)return!1;const s=e?e.ownerDocument:0;return e instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},Dt=e=>e.type==="select-multiple",He=e=>e.type==="radio",$s=e=>He(e)||ve(e),Ue=e=>je(e)&&e.isConnected;function Ws(e,s){const t=s.slice(0,-1).length;let r=0;for(;r<t;)e=T(e)?r++:e[s[r++]];return e}function Ys(e){for(const s in e)if(e.hasOwnProperty(s)&&!T(e[s]))return!1;return!0}function I(e,s){const t=Array.isArray(s)?s:Ce(s)?[s]:We(s),r=t.length===1?e:Ws(e,t),n=t.length-1,a=t[n];return r&&delete r[a],n!==0&&(C(r)&&q(r)||Array.isArray(r)&&Ys(r))&&I(e,t.slice(0,-1)),e}var Ct=e=>{for(const s in e)if(Y(e[s]))return!0;return!1};function ke(e,s={}){const t=Array.isArray(e);if(C(e)||t)for(const r in e)Array.isArray(e[r])||C(e[r])&&!Ct(e[r])?(s[r]=Array.isArray(e[r])?[]:{},ke(e[r],s[r])):U(e[r])||(s[r]=!0);return s}function Rt(e,s,t){const r=Array.isArray(e);if(C(e)||r)for(const n in e)Array.isArray(e[n])||C(e[n])&&!Ct(e[n])?T(s)||qe(t[n])?t[n]=Array.isArray(e[n])?ke(e[n],[]):{...ke(e[n])}:Rt(e[n],U(s)?{}:s[n],t[n]):t[n]=!ne(e[n],s[n]);return t}var me=(e,s)=>Rt(e,s,ke(s));const yt={value:!1,isValid:!1},ht={value:!0,isValid:!0};var It=e=>{if(Array.isArray(e)){if(e.length>1){const s=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:s,isValid:!!s.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!T(e[0].attributes.value)?T(e[0].value)||e[0].value===""?ht:{value:e[0].value,isValid:!0}:ht:yt}return yt},Tt=(e,{valueAsNumber:s,valueAsDate:t,setValueAs:r})=>T(e)?e:s?e===""?NaN:e&&+e:t&&Z(e)?new Date(e):r?r(e):e;const mt={isValid:!1,value:null};var Ot=e=>Array.isArray(e)?e.reduce((s,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:s,mt):mt;function gt(e){const s=e.ref;return Ye(s)?s.files:He(s)?Ot(e.refs).value:Dt(s)?[...s.selectedOptions].map(({value:t})=>t):ve(s)?It(e.refs).value:Tt(T(s.value)?e.ref.value:s.value,e)}var Hs=(e,s,t,r)=>{const n={};for(const a of e){const u=m(s,a);u&&V(n,a,u._f)}return{criteriaMode:t,names:[...e],fields:n,shouldUseNativeValidation:r}},Ve=e=>e instanceof RegExp,ge=e=>T(e)?e:Ve(e)?e.source:C(e)?Ve(e.value)?e.value.source:e.value:e,pt=e=>({isOnSubmit:!e||e===W.onSubmit,isOnBlur:e===W.onBlur,isOnChange:e===W.onChange,isOnAll:e===W.all,isOnTouch:e===W.onTouched});const xt="AsyncFunction";var Ks=e=>!!e&&!!e.validate&&!!(Y(e.validate)&&e.validate.constructor.name===xt||C(e.validate)&&Object.values(e.validate).find(s=>s.constructor.name===xt)),Gs=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),vt=(e,s,t)=>!t&&(s.watchAll||s.watch.has(e)||[...s.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const xe=(e,s,t,r)=>{for(const n of t||Object.keys(e)){const a=m(e,n);if(a){const{_f:u,...d}=a;if(u){if(u.refs&&u.refs[0]&&s(u.refs[0],n)&&!r)return!0;if(u.ref&&s(u.ref,u.name)&&!r)return!0;if(xe(d,s))break}else if(C(d)&&xe(d,s))break}}};function bt(e,s,t){const r=m(e,t);if(r||Ce(t))return{error:r,name:t};const n=t.split(".");for(;n.length;){const a=n.join("."),u=m(s,a),d=m(e,a);if(u&&!Array.isArray(u)&&t!==a)return{name:t};if(d&&d.type)return{name:a,error:d};if(d&&d.root&&d.root.type)return{name:`${a}.root`,error:d.root};n.pop()}return{name:t}}var Xs=(e,s,t,r)=>{t(e);const{name:n,...a}=e;return q(a)||Object.keys(a).length>=Object.keys(s).length||Object.keys(a).find(u=>s[u]===(!r||W.all))},Zs=(e,s,t)=>!e||!s||e===s||pe(e).some(r=>r&&(t?r===s:r.startsWith(s)||s.startsWith(r))),Js=(e,s,t,r,n)=>n.isOnAll?!1:!t&&n.isOnTouch?!(s||e):(t?r.isOnBlur:n.isOnBlur)?!e:(t?r.isOnChange:n.isOnChange)?e:!0,er=(e,s)=>!$e(m(e,s)).length&&I(e,s),tr=(e,s,t)=>{const r=pe(m(e,t));return V(r,"root",s[t]),V(e,t,r),e},Ee=e=>Z(e);function wt(e,s,t="validate"){if(Ee(e)||Array.isArray(e)&&e.every(Ee)||X(e)&&!e)return{type:t,message:Ee(e)?e:"",ref:s}}var de=e=>C(e)&&!Ve(e)?e:{value:e,message:""},St=async(e,s,t,r,n,a)=>{const{ref:u,refs:d,required:b,maxLength:w,minLength:p,min:x,max:g,pattern:F,validate:R,name:N,valueAsNumber:se,mount:Re}=e._f,_=m(t,N);if(!Re||s.has(N))return{};const ee=d?d[0]:u,H=S=>{n&&ee.reportValidity&&(ee.setCustomValidity(X(S)?"":S||""),ee.reportValidity())},O={},be=He(u),re=ve(u),Ie=be||re,$=(se||Ye(u))&&T(u.value)&&T(_)||je(u)&&u.value===""||_===""||Array.isArray(_)&&!_.length,ae=Bs.bind(null,N,r,O),K=(S,j,D,P=te.maxLength,Q=te.minLength)=>{const G=S?j:D;O[N]={type:S?P:Q,message:G,ref:u,...ae(S?P:Q,G)}};if(a?!Array.isArray(_)||!_.length:b&&(!Ie&&($||U(_))||X(_)&&!_||re&&!It(d).isValid||be&&!Ot(d).isValid)){const{value:S,message:j}=Ee(b)?{value:!!b,message:b}:de(b);if(S&&(O[N]={type:te.required,message:j,ref:ee,...ae(te.required,j)},!r))return H(j),O}if(!$&&(!U(x)||!U(g))){let S,j;const D=de(g),P=de(x);if(!U(_)&&!isNaN(_)){const Q=u.valueAsNumber||_&&+_;U(D.value)||(S=Q>D.value),U(P.value)||(j=Q<P.value)}else{const Q=u.valueAsDate||new Date(_),G=we=>new Date(new Date().toDateString()+" "+we),he=u.type=="time",ce=u.type=="week";Z(D.value)&&_&&(S=he?G(_)>G(D.value):ce?_>D.value:Q>new Date(D.value)),Z(P.value)&&_&&(j=he?G(_)<G(P.value):ce?_<P.value:Q<new Date(P.value))}if((S||j)&&(K(!!S,D.message,P.message,te.max,te.min),!r))return H(O[N].message),O}if((w||p)&&!$&&(Z(_)||a&&Array.isArray(_))){const S=de(w),j=de(p),D=!U(S.value)&&_.length>+S.value,P=!U(j.value)&&_.length<+j.value;if((D||P)&&(K(D,S.message,j.message),!r))return H(O[N].message),O}if(F&&!$&&Z(_)){const{value:S,message:j}=de(F);if(Ve(S)&&!_.match(S)&&(O[N]={type:te.pattern,message:j,ref:u,...ae(te.pattern,j)},!r))return H(j),O}if(R){if(Y(R)){const S=await R(_,t),j=wt(S,ee);if(j&&(O[N]={...j,...ae(te.validate,j.message)},!r))return H(j.message),O}else if(C(R)){let S={};for(const j in R){if(!q(S)&&!r)break;const D=wt(await R[j](_,t),ee,j);D&&(S={...D,...ae(j,D.message)},H(D.message),r&&(O[N]=S))}if(!q(S)&&(O[N]={ref:ee,...S},!r))return O}}return H(!0),O};const sr={mode:W.onSubmit,reValidateMode:W.onChange,shouldFocusError:!0};function rr(e={}){let s={...sr,...e},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:Y(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1},r={},n=C(s.defaultValues)||C(s.values)?L(s.defaultValues||s.values)||{}:{},a=s.shouldUnregister?{}:L(n),u={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},b,w=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let x={...p};const g={array:ft(),state:ft()},F=s.criteriaMode===W.all,R=i=>o=>{clearTimeout(w),w=setTimeout(i,o)},N=async i=>{if(!s.disabled&&(p.isValid||x.isValid||i)){const o=s.resolver?q((await re()).errors):await $(r,!0);o!==t.isValid&&g.state.next({isValid:o})}},se=(i,o)=>{!s.disabled&&(p.isValidating||p.validatingFields||x.isValidating||x.validatingFields)&&((i||Array.from(d.mount)).forEach(c=>{c&&(o?V(t.validatingFields,c,o):I(t.validatingFields,c))}),g.state.next({validatingFields:t.validatingFields,isValidating:!q(t.validatingFields)}))},Re=(i,o=[],c,h,y=!0,f=!0)=>{if(h&&c&&!s.disabled){if(u.action=!0,f&&Array.isArray(m(r,i))){const v=c(m(r,i),h.argA,h.argB);y&&V(r,i,v)}if(f&&Array.isArray(m(t.errors,i))){const v=c(m(t.errors,i),h.argA,h.argB);y&&V(t.errors,i,v),er(t.errors,i)}if((p.touchedFields||x.touchedFields)&&f&&Array.isArray(m(t.touchedFields,i))){const v=c(m(t.touchedFields,i),h.argA,h.argB);y&&V(t.touchedFields,i,v)}(p.dirtyFields||x.dirtyFields)&&(t.dirtyFields=me(n,a)),g.state.next({name:i,isDirty:K(i,o),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else V(a,i,o)},_=(i,o)=>{V(t.errors,i,o),g.state.next({errors:t.errors})},ee=i=>{t.errors=i,g.state.next({errors:t.errors,isValid:!1})},H=(i,o,c,h)=>{const y=m(r,i);if(y){const f=m(a,i,T(c)?m(n,i):c);T(f)||h&&h.defaultChecked||o?V(a,i,o?f:gt(y._f)):D(i,f),u.mount&&N()}},O=(i,o,c,h,y)=>{let f=!1,v=!1;const E={name:i};if(!s.disabled){if(!c||h){(p.isDirty||x.isDirty)&&(v=t.isDirty,t.isDirty=E.isDirty=K(),f=v!==E.isDirty);const k=ne(m(n,i),o);v=!!m(t.dirtyFields,i),k?I(t.dirtyFields,i):V(t.dirtyFields,i,!0),E.dirtyFields=t.dirtyFields,f=f||(p.dirtyFields||x.dirtyFields)&&v!==!k}if(c){const k=m(t.touchedFields,i);k||(V(t.touchedFields,i,c),E.touchedFields=t.touchedFields,f=f||(p.touchedFields||x.touchedFields)&&k!==c)}f&&y&&g.state.next(E)}return f?E:{}},be=(i,o,c,h)=>{const y=m(t.errors,i),f=(p.isValid||x.isValid)&&X(o)&&t.isValid!==o;if(s.delayError&&c?(b=R(()=>_(i,c)),b(s.delayError)):(clearTimeout(w),b=null,c?V(t.errors,i,c):I(t.errors,i)),(c?!ne(y,c):y)||!q(h)||f){const v={...h,...f&&X(o)?{isValid:o}:{},errors:t.errors,name:i};t={...t,...v},g.state.next(v)}},re=async i=>{se(i,!0);const o=await s.resolver(a,s.context,Hs(i||d.mount,r,s.criteriaMode,s.shouldUseNativeValidation));return se(i),o},Ie=async i=>{const{errors:o}=await re(i);if(i)for(const c of i){const h=m(o,c);h?V(t.errors,c,h):I(t.errors,c)}else t.errors=o;return o},$=async(i,o,c={valid:!0})=>{for(const h in i){const y=i[h];if(y){const{_f:f,...v}=y;if(f){const E=d.array.has(f.name),k=y._f&&Ks(y._f);k&&p.validatingFields&&se([h],!0);const B=await St(y,d.disabled,a,F,s.shouldUseNativeValidation&&!o,E);if(k&&p.validatingFields&&se([h]),B[f.name]&&(c.valid=!1,o))break;!o&&(m(B,f.name)?E?tr(t.errors,B,f.name):V(t.errors,f.name,B[f.name]):I(t.errors,f.name))}!q(v)&&await $(v,o,c)}}return c.valid},ae=()=>{for(const i of d.unMount){const o=m(r,i);o&&(o._f.refs?o._f.refs.every(c=>!Ue(c)):!Ue(o._f.ref))&&Te(i)}d.unMount=new Set},K=(i,o)=>!s.disabled&&(i&&o&&V(a,i,o),!ne(we(),n)),S=(i,o,c)=>qs(i,d,{...u.mount?a:T(o)?n:Z(i)?{[i]:o}:o},c,o),j=i=>$e(m(u.mount?a:n,i,s.shouldUnregister?m(n,i,[]):[])),D=(i,o,c={})=>{const h=m(r,i);let y=o;if(h){const f=h._f;f&&(!f.disabled&&V(a,i,Tt(o,f)),y=je(f.ref)&&U(o)?"":o,Dt(f.ref)?[...f.ref.options].forEach(v=>v.selected=y.includes(v.value)):f.refs?ve(f.ref)?f.refs.forEach(v=>{(!v.defaultChecked||!v.disabled)&&(Array.isArray(y)?v.checked=!!y.find(E=>E===v.value):v.checked=y===v.value||!!y)}):f.refs.forEach(v=>v.checked=v.value===y):Ye(f.ref)?f.ref.value="":(f.ref.value=y,f.ref.type||g.state.next({name:i,values:L(a)})))}(c.shouldDirty||c.shouldTouch)&&O(i,y,c.shouldTouch,c.shouldDirty,!0),c.shouldValidate&&ce(i)},P=(i,o,c)=>{for(const h in o){if(!o.hasOwnProperty(h))return;const y=o[h],f=i+"."+h,v=m(r,f);(d.array.has(i)||C(y)||v&&!v._f)&&!le(y)?P(f,y,c):D(f,y,c)}},Q=(i,o,c={})=>{const h=m(r,i),y=d.array.has(i),f=L(o);V(a,i,f),y?(g.array.next({name:i,values:L(a)}),(p.isDirty||p.dirtyFields||x.isDirty||x.dirtyFields)&&c.shouldDirty&&g.state.next({name:i,dirtyFields:me(n,a),isDirty:K(i,f)})):h&&!h._f&&!U(f)?P(i,f,c):D(i,f,c),vt(i,d)&&g.state.next({...t,name:i}),g.state.next({name:u.mount?i:void 0,values:L(a)})},G=async i=>{u.mount=!0;const o=i.target;let c=o.name,h=!0;const y=m(r,c),f=k=>{h=Number.isNaN(k)||le(k)&&isNaN(k.getTime())||ne(k,m(a,c,k))},v=pt(s.mode),E=pt(s.reValidateMode);if(y){let k,B;const Se=o.type?gt(y._f):Os(i),ie=i.type===dt.BLUR||i.type===dt.FOCUS_OUT,Bt=!Gs(y._f)&&!s.resolver&&!m(t.errors,c)&&!y._f.deps||Js(ie,m(t.touchedFields,c),t.isSubmitted,E,v),Me=vt(c,d,ie);V(a,c,Se),ie?(!o||!o.readOnly)&&(y._f.onBlur&&y._f.onBlur(i),b&&b(0)):y._f.onChange&&y._f.onChange(i);const Pe=O(c,Se,ie),$t=!q(Pe)||Me;if(!ie&&g.state.next({name:c,type:i.type,values:L(a)}),Bt)return(p.isValid||x.isValid)&&(s.mode==="onBlur"?ie&&N():ie||N()),$t&&g.state.next({name:c,...Me?{}:Pe});if(!ie&&Me&&g.state.next({...t}),s.resolver){const{errors:rt}=await re([c]);if(f(Se),h){const Wt=bt(t.errors,r,c),it=bt(rt,r,Wt.name||c);k=it.error,c=it.name,B=q(rt)}}else se([c],!0),k=(await St(y,d.disabled,a,F,s.shouldUseNativeValidation))[c],se([c]),f(Se),h&&(k?B=!1:(p.isValid||x.isValid)&&(B=await $(r,!0)));h&&(y._f.deps&&ce(y._f.deps),be(c,B,k,Pe))}},he=(i,o)=>{if(m(t.errors,o)&&i.focus)return i.focus(),1},ce=async(i,o={})=>{let c,h;const y=pe(i);if(s.resolver){const f=await Ie(T(i)?i:y);c=q(f),h=i?!y.some(v=>m(f,v)):c}else i?(h=(await Promise.all(y.map(async f=>{const v=m(r,f);return await $(v&&v._f?{[f]:v}:v)}))).every(Boolean),!(!h&&!t.isValid)&&N()):h=c=await $(r);return g.state.next({...!Z(i)||(p.isValid||x.isValid)&&c!==t.isValid?{}:{name:i},...s.resolver||!i?{isValid:c}:{},errors:t.errors}),o.shouldFocus&&!h&&xe(r,he,i?y:d.mount),h},we=i=>{const o={...u.mount?a:n};return T(i)?o:Z(i)?m(o,i):i.map(c=>m(o,c))},Ke=(i,o)=>({invalid:!!m((o||t).errors,i),isDirty:!!m((o||t).dirtyFields,i),error:m((o||t).errors,i),isValidating:!!m(t.validatingFields,i),isTouched:!!m((o||t).touchedFields,i)}),Lt=i=>{i&&pe(i).forEach(o=>I(t.errors,o)),g.state.next({errors:i?t.errors:{}})},Ge=(i,o,c)=>{const h=(m(r,i,{_f:{}})._f||{}).ref,y=m(t.errors,i)||{},{ref:f,message:v,type:E,...k}=y;V(t.errors,i,{...k,...o,ref:h}),g.state.next({name:i,errors:t.errors,isValid:!1}),c&&c.shouldFocus&&h&&h.focus&&h.focus()},Mt=(i,o)=>Y(i)?g.state.subscribe({next:c=>"values"in c&&i(S(void 0,o),c)}):S(i,o,!0),Xe=i=>g.state.subscribe({next:o=>{Zs(i.name,o.name,i.exact)&&Xs(o,i.formState||p,qt,i.reRenderRoot)&&i.callback({values:{...a},...t,...o,defaultValues:n})}}).unsubscribe,Pt=i=>(u.mount=!0,x={...x,...i.formState},Xe({...i,formState:x})),Te=(i,o={})=>{for(const c of i?pe(i):d.mount)d.mount.delete(c),d.array.delete(c),o.keepValue||(I(r,c),I(a,c)),!o.keepError&&I(t.errors,c),!o.keepDirty&&I(t.dirtyFields,c),!o.keepTouched&&I(t.touchedFields,c),!o.keepIsValidating&&I(t.validatingFields,c),!s.shouldUnregister&&!o.keepDefaultValue&&I(n,c);g.state.next({values:L(a)}),g.state.next({...t,...o.keepDirty?{isDirty:K()}:{}}),!o.keepIsValid&&N()},Ze=({disabled:i,name:o})=>{(X(i)&&u.mount||i||d.disabled.has(o))&&(i?d.disabled.add(o):d.disabled.delete(o))},Oe=(i,o={})=>{let c=m(r,i);const h=X(o.disabled)||X(s.disabled);return V(r,i,{...c||{},_f:{...c&&c._f?c._f:{ref:{name:i}},name:i,mount:!0,...o}}),d.mount.add(i),c?Ze({disabled:X(o.disabled)?o.disabled:s.disabled,name:i}):H(i,!0,o.value),{...h?{disabled:o.disabled||s.disabled}:{},...s.progressive?{required:!!o.required,min:ge(o.min),max:ge(o.max),minLength:ge(o.minLength),maxLength:ge(o.maxLength),pattern:ge(o.pattern)}:{},name:i,onChange:G,onBlur:G,ref:y=>{if(y){Oe(i,o),c=m(r,i);const f=T(y.value)&&y.querySelectorAll&&y.querySelectorAll("input,select,textarea")[0]||y,v=$s(f),E=c._f.refs||[];if(v?E.find(k=>k===f):f===c._f.ref)return;V(r,i,{_f:{...c._f,...v?{refs:[...E.filter(Ue),f,...Array.isArray(m(n,i))?[{}]:[]],ref:{type:f.type,name:i}}:{ref:f}}}),H(i,!1,void 0,f)}else c=m(r,i,{}),c._f&&(c._f.mount=!1),(s.shouldUnregister||o.shouldUnregister)&&!(Ms(d.array,i)&&u.action)&&d.unMount.add(i)}}},Le=()=>s.shouldFocusError&&xe(r,he,d.mount),zt=i=>{X(i)&&(g.state.next({disabled:i}),xe(r,(o,c)=>{const h=m(r,c);h&&(o.disabled=h._f.disabled||i,Array.isArray(h._f.refs)&&h._f.refs.forEach(y=>{y.disabled=h._f.disabled||i}))},0,!1))},Je=(i,o)=>async c=>{let h;c&&(c.preventDefault&&c.preventDefault(),c.persist&&c.persist());let y=L(a);if(g.state.next({isSubmitting:!0}),s.resolver){const{errors:f,values:v}=await re();t.errors=f,y=L(v)}else await $(r);if(d.disabled.size)for(const f of d.disabled)I(y,f);if(I(t.errors,"root"),q(t.errors)){g.state.next({errors:{}});try{await i(y,c)}catch(f){h=f}}else o&&await o({...t.errors},c),Le(),setTimeout(Le);if(g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:q(t.errors)&&!h,submitCount:t.submitCount+1,errors:t.errors}),h)throw h},Ut=(i,o={})=>{m(r,i)&&(T(o.defaultValue)?Q(i,L(m(n,i))):(Q(i,o.defaultValue),V(n,i,L(o.defaultValue))),o.keepTouched||I(t.touchedFields,i),o.keepDirty||(I(t.dirtyFields,i),t.isDirty=o.defaultValue?K(i,L(m(n,i))):K()),o.keepError||(I(t.errors,i),p.isValid&&N()),g.state.next({...t}))},et=(i,o={})=>{const c=i?L(i):n,h=L(c),y=q(i),f=y?n:h;if(o.keepDefaultValues||(n=c),!o.keepValues){if(o.keepDirtyValues){const v=new Set([...d.mount,...Object.keys(me(n,a))]);for(const E of Array.from(v))m(t.dirtyFields,E)?V(f,E,m(a,E)):Q(E,m(f,E))}else{if(Be&&T(i))for(const v of d.mount){const E=m(r,v);if(E&&E._f){const k=Array.isArray(E._f.refs)?E._f.refs[0]:E._f.ref;if(je(k)){const B=k.closest("form");if(B){B.reset();break}}}}if(o.keepFieldsRef)for(const v of d.mount)Q(v,m(f,v));else r={}}a=s.shouldUnregister?o.keepDefaultValues?L(n):{}:L(f),g.array.next({values:{...f}}),g.state.next({values:{...f}})}d={mount:o.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!p.isValid||!!o.keepIsValid||!!o.keepDirtyValues,u.watch=!!s.shouldUnregister,g.state.next({submitCount:o.keepSubmitCount?t.submitCount:0,isDirty:y?!1:o.keepDirty?t.isDirty:!!(o.keepDefaultValues&&!ne(i,n)),isSubmitted:o.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:y?{}:o.keepDirtyValues?o.keepDefaultValues&&a?me(n,a):t.dirtyFields:o.keepDefaultValues&&i?me(n,i):o.keepDirty?t.dirtyFields:{},touchedFields:o.keepTouched?t.touchedFields:{},errors:o.keepErrors?t.errors:{},isSubmitSuccessful:o.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:n})},tt=(i,o)=>et(Y(i)?i(a):i,o),Qt=(i,o={})=>{const c=m(r,i),h=c&&c._f;if(h){const y=h.refs?h.refs[0]:h.ref;y.focus&&(y.focus(),o.shouldSelect&&Y(y.select)&&y.select())}},qt=i=>{t={...t,...i}},st={control:{register:Oe,unregister:Te,getFieldState:Ke,handleSubmit:Je,setError:Ge,_subscribe:Xe,_runSchema:re,_focusError:Le,_getWatch:S,_getDirty:K,_setValid:N,_setFieldArray:Re,_setDisabledField:Ze,_setErrors:ee,_getFieldArray:j,_reset:et,_resetDefaultValues:()=>Y(s.defaultValues)&&s.defaultValues().then(i=>{tt(i,s.resetOptions),g.state.next({isLoading:!1})}),_removeUnmounted:ae,_disableForm:zt,_subjects:g,_proxyFormState:p,get _fields(){return r},get _formValues(){return a},get _state(){return u},set _state(i){u=i},get _defaultValues(){return n},get _names(){return d},set _names(i){d=i},get _formState(){return t},get _options(){return s},set _options(i){s={...s,...i}}},subscribe:Pt,trigger:ce,register:Oe,handleSubmit:Je,watch:Mt,setValue:Q,getValues:we,reset:tt,resetField:Ut,clearErrors:Lt,unregister:Te,setError:Ge,setFocus:Qt,getFieldState:Ke};return{...st,formControl:st}}function ir(e={}){const s=z.useRef(void 0),t=z.useRef(void 0),[r,n]=z.useState({isDirty:!1,isValidating:!1,isLoading:Y(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Y(e.defaultValues)?void 0:e.defaultValues});if(!s.current)if(e.formControl)s.current={...e.formControl,formState:r},e.defaultValues&&!Y(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:u,...d}=rr(e);s.current={...d,formState:r}}const a=s.current.control;return a._options=e,Qs(()=>{const u=a._subscribe({formState:a._proxyFormState,callback:()=>n({...a._formState}),reRenderRoot:!0});return n(d=>({...d,isReady:!0})),a._formState.isReady=!0,u},[a]),z.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),z.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),z.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),z.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),z.useEffect(()=>{if(a._proxyFormState.isDirty){const u=a._getDirty();u!==r.isDirty&&a._subjects.state.next({isDirty:u})}},[a,r.isDirty]),z.useEffect(()=>{e.values&&!ne(e.values,t.current)?(a._reset(e.values,{keepFieldsRef:!0,...a._options.resetOptions}),t.current=e.values,n(u=>({...u}))):a._resetDefaultValues()},[a,e.values]),z.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),s.current.formState=Us(r,a),s.current}const nr=()=>{const{submitEmail:e}=J(),[s,t]=M.useState(!1),[r,n]=M.useState(!1),{register:a,handleSubmit:u,formState:{errors:d,isValid:b},setFocus:w}=ir({defaultValues:{subscribeToBulletin:!0}});M.useEffect(()=>{w("email")},[w]),M.useEffect(()=>{const x=g=>{g.key==="Enter"&&b&&u(p)()};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[b,u]);const p=async x=>{n(!0),t(!0);try{await new Promise(g=>setTimeout(g,600)),n(!1),await new Promise(g=>setTimeout(g,400)),e(x.email,x.subscribeToBulletin)}catch(g){console.error("Email submission error:",g),t(!1),n(!1)}};return l.jsx(A.section,{className:"section active",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5},children:l.jsx("div",{className:"container",children:l.jsxs("div",{className:"email-content",children:[l.jsx(Ne,{}),l.jsx(A.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:"Challenge Complete!"}),l.jsx(A.p,{className:"email-subtitle",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:"Get your detailed Cartridge Knowledge Profile with historical context, percentile ranking, and explanations for each cartridge."}),l.jsxs(A.form,{className:"email-form",onSubmit:u(p),initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:[l.jsx("input",{type:"email",placeholder:"Enter your email address",...a("email",{required:"Email is required",pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Please enter a valid email address"}}),style:d.email?{borderColor:"#dc3545"}:{}}),l.jsxs("div",{className:"submit-container",style:{position:"relative"},children:[r&&l.jsxs(l.Fragment,{children:[l.jsx(A.div,{className:"muzzle-flash",initial:{opacity:0,scale:.5},animate:{opacity:[0,1,0],scale:[.5,1.2,.5]},transition:{duration:.3,ease:"easeOut"}}),l.jsx(A.div,{className:"bullet-trail",initial:{x:-20,opacity:1},animate:{x:200,opacity:0},transition:{duration:.4,ease:"easeOut"}})]}),l.jsx(fe,{type:"submit",disabled:!b||s,children:s?r?"FIRING! 💥":"Reloading...":"FIRE! 🔫"})]})]}),d.email&&l.jsx(A.p,{style:{color:"#dc3545",fontSize:"14px",marginTop:"10px"},initial:{opacity:0},animate:{opacity:1},children:d.email.message}),l.jsx(A.div,{className:"bulletin-option-single",initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},children:l.jsxs("div",{className:"bullet-option",children:[l.jsx("div",{className:"bullet-shell",children:l.jsx("div",{className:"bullet-tip"})}),l.jsxs("label",{children:[l.jsx("input",{type:"checkbox",...a("subscribeToBulletin"),defaultChecked:!0}),l.jsx("span",{children:"🎯 Get the Ammo.com BULLETin for weekly ammo discounts and insights"})]})]})})]})})})},ar=()=>{const{score:e,quizData:s,maxStreak:t,getTier:r,getAchievements:n,retakeQuiz:a}=J(),u=r(e),d=n(),b=Math.round(e/s.length*100),w=()=>{oe.socialShare("twitter",e,u.name);const x=`I just scored ${e}/${s.length} on the Cartridge Detective Challenge and earned the rank of ${u.name}! Can you beat my score?`,g=encodeURIComponent(window.location.href);window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(x)}&url=${g}`,"_blank")},p=()=>{oe.socialShare("facebook",e,u.name);const x=encodeURIComponent(window.location.href);window.open(`https://www.facebook.com/sharer/sharer.php?u=${x}`,"_blank")};return l.jsx(A.section,{className:"section active",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},children:l.jsx("div",{className:"container",children:l.jsxs("div",{className:"results-content",children:[l.jsx(Ne,{}),l.jsxs("div",{className:"results-header",children:[l.jsx(A.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:"Your Detective Results"}),l.jsxs(A.div,{className:"score-display",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.4,duration:.5},children:[l.jsx("span",{className:"score-number",children:e}),l.jsx("span",{className:"score-separator",children:" / "}),l.jsx("span",{className:"score-total",children:s.length})]})]}),l.jsxs(A.div,{className:"tier-badge",style:{borderColor:e>=10?"#bf9400":e>=7?"#99161d":"#464648"},initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.6},children:[l.jsx("div",{className:"tier-icon",children:u.icon}),l.jsx("h3",{className:"tier-title",children:u.name}),l.jsx("p",{className:"tier-description",children:u.description})]}),l.jsxs(A.div,{className:"results-breakdown",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},children:[l.jsx("h4",{children:"Performance Summary"}),l.jsxs("div",{className:"breakdown-item",children:[l.jsx("span",{children:"Cartridges Identified:"}),l.jsx("span",{children:e})]}),l.jsxs("div",{className:"breakdown-item",children:[l.jsx("span",{children:"Accuracy Rate:"}),l.jsxs("span",{children:[b,"%"]})]}),l.jsxs("div",{className:"breakdown-item",children:[l.jsx("span",{children:"Best Streak:"}),l.jsx("span",{children:t})]})]}),d.length>0&&l.jsx(A.div,{className:"achievements",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},children:d.map((x,g)=>l.jsxs("div",{className:"achievement-badge",children:[l.jsx("span",{className:"achievement-icon",children:x.icon}),l.jsx("span",{className:"achievement-text",children:x.text})]},g))}),l.jsxs(A.div,{className:"email-sent-notice",style:{background:"#1d1d1d",border:"2px solid #28a745",borderRadius:"8px",padding:"20px",margin:"30px 0",textAlign:"center"},initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:1.2},children:[l.jsx("h4",{style:{color:"#28a745",marginBottom:"10px"},children:"📧 Results Sent!"}),l.jsx("p",{style:{color:"#cccccc"},children:"Check your email for detailed explanations, historical context, and your complete Cartridge Knowledge Profile."})]}),l.jsxs(A.div,{style:{margin:"30px 0"},initial:{opacity:0},animate:{opacity:1},transition:{delay:1.4},children:[l.jsx("h4",{style:{color:"#bf9400",marginBottom:"15px"},children:"Share Your Results"}),l.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"10px",flexWrap:"wrap"},children:[l.jsx(fe,{variant:"social",onClick:w,children:"Share on Twitter"}),l.jsx(fe,{variant:"social",onClick:p,children:"Share on Facebook"})]})]}),l.jsx(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.6},children:l.jsx(fe,{variant:"secondary",onClick:a,children:"Take Challenge Again"})})]})})})};function or(){const{currentSection:e,trackEvent:s}=J();M.useEffect(()=>{s("quiz_page_loaded")},[s]);const t=()=>{switch(e){case"landing":return l.jsx(ut,{});case"quiz":return l.jsx(Ts,{});case"emailCapture":return l.jsx(nr,{});case"results":return l.jsx(ar,{});default:return l.jsx(ut,{})}};return l.jsx("div",{className:"App",children:l.jsx(_e,{mode:"wait",children:t()})})}Qe.createRoot(document.getElementById("root")).render(l.jsx(z.StrictMode,{children:l.jsx(or,{})}));
